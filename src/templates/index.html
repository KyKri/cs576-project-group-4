<!DOCTYPE html>
<html lang="en">
    <head>
        <title>CellNetSim</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="{{ url_for('static', path='/css/styles.css') }}" rel="stylesheet">
    </head>
    <body>
        <h1>CellNetSim</h1>
        <div>
            <canvas id="simulation" width="500" height="500"></canvas>
        </div>
        <div>
            <h2>Controls</h2>
            <form id="controls">
                <button onclick="event.preventDefault(); control('start')">
                    <i class="fas fa-play"></i> Start
                </button>
                <button onclick="event.preventDefault(); control('pause')">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button onclick="event.preventDefault(); control('stop')">
                    <i class="fas fa-stop"></i> Stop
                </button>
            </form>
        </div>

        <div>
            <h2>Configuration</h2>
            <form id="configuration">
                <fieldset>
                    <legend>Grid Size</legend>
                    <label for="grid-height">Height (px)</label>
                    <input type="text" name="grid-height" id="grid-height" value="500">
                    <label for="grid-width">Width (px)</label>
                    <input type="text" name="grid-width" id="grid-width" value="500">
                    <label for="grid-conversion">Meters per pixel</label>
                    <input type="text" name="grid-conversion" id="grid-conversion" value="1">
                </fieldset>
                <fieldset>
                    <legend>Cellular Network</legend>
                    <label for="network-type">Network Type</label>
                    <select name="network-type" id="network-type">
                        <option value="LTE_20" selected="true">4G LTE</option>
                        <option value="NR_100">5G</option>
                    </select>
                    <label for="starting-ip">Starting IP Address</label>
                    <input type="text" name="starting-ip" id="starting-ip" value="10.0.0.1">
                </fieldset>
                <button type="submit">Configure</button>
            </form>
        </div>

        <div>
            <h2>Components</h2>
            <div id="components">
                <div id="icon-tray">
                    {% for icon in ['fa-tower-cell', 'fa-mobile']%}
                    <span class="font-awesome-icon fas fa-solid {{icon}}"></span>
                    {% endfor %}
                </div>
            </div>
        </div>       

        <div>
            <h2>Details</h2>
            <div id="details">
                {% if device_selected %}
                <ul>
                    <li>IP Address: {{device_selected.ip}}</li>
                </ul>
                {% else %}
                <p>Select a device to see details</p>
                {% endif %}
            </div>
        </div>

        <div>
            <h2>Logs</h2>
            <div id="logs">
                {% for log in ['ue1 sending packet to ue2 via bs1', 'ue2 moved to bs2'] %}
                <p>{{log}}</p>
                {% endfor %}
            </div>
        </div>

        <div id="websocket-example">
            <form id="ws" action="" onsubmit="sendMessage(event)">
                <input type="text" id="messageText" autocomplete="off"/>
                <button>Send</button>
            </form>
            <ul id='messages'>
            </ul>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://kit.fontawesome.com/c663cc9ee5.js" crossorigin="anonymous"></script>
        <script src="{{ url_for('static', path='/js/index.js') }}"></script>
        <script src="{{ url_for('static', path='/js/drag-drop.js') }}"></script>
    </body>
</html>
